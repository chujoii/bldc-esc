\documentclass[unicode, 12pt, a4paper]{article}













\usepackage[cm-default]{fontspec}
\defaultfontfeatures{Mapping=tex-text}    %% устанавливаем поведение шрифтов по умолчанию
\usepackage{polyglossia}    %% подключаем пакет многоязыкой верстки
%\setdefaultlanguage{russian}    %% установка языка по умолчанию
\setdefaultlanguage{english}    %% установка языка по умолчанию
%\setotherlanguages{english}
\setmainfont{Old Standard}      %% зададим основной шрифт документа
%\setmainfont{DejaVu Sans Mono}
\setmonofont{DejaVu Sans Mono}

\usepackage{mathtext}               % если нужны русские буквы в формулах
%\usepackage{ucs}
%\usepackage[utf8x]{inputenc}       % Кодировка входного документа;
                                   % при необходимости, вместо cp1251
                                   % можно указать cp866 (Alt-кодировка
                                   % DOS) или koi8-r.

\usepackage{textcomp}              % типографские значки

% \usepackage[T2A]{fontenc}           % Кодировка для шрифтов LH
%\usepackage{indentfirst}    % неизвестно
%\usepackage{cmap}           % неизвестно
%\usepackage[english,russian]{babel} % Включение русификации, русских и
                                    % английских стилей и переносов

%\renewcommand{\rmdefault}{ost_____} % add new font  Old_Standard
%\renewcommand{\sfdefault}{ost_____}
%\renewcommand{\ttdefault}{osti____}

\usepackage{graphics}
\usepackage{pgf}
\usepackage{wrapfig}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{tabularx}
%\usepackage{fullpage}
\usepackage{amsmath} % для спец знаков в формулах
\usepackage{amssymb} % для спец знаков в формулах
\usepackage{topcapt} % подписи к таблицам
\usepackage{dcolumn} % выравнивание чисел
\usepackage{ulem} % подчёркивание

%\hyphenpenalty=10000 % запретить переносы
%\exhyphenpenalty=10000
%\tolerance=-1
%\emergencystretch=-1
%
%\pretolerance=10000  % запретить переносы другой вариант
%
%
% work wersion
\hyphenpenalty=10000      %% or any of the other ways
\exhyphenpenalty=10000    %% to turn hyphenation off
\pretolerance=9999
\tolerance=\pretolerance
\emergencystretch=10pt    % it may be necessary to experiment with this value.


\usepackage[colorlinks=true]{hyperref} % url hyperlink

\usepackage{makeidx} % индекс










\author{R.V.~Prikhodchenko}
\title{Trigonometric functions\\for\\three-phase sin}
\frenchspacing



\frenchspacing
\makeindex

\begin{document}

\maketitle



\begin{table}[ht]
  \begin{tabular}{cc}
    \includegraphics[width=2cm]{../CC_BY-SA_88x31.png} &
    \shortstack{руководство распространяется в соответствии с
      условиями\\
      \href{http://creativecommons.org/licenses/by-sa/3.0/}{Attribution-ShareAlike} \\
      (Атрибуция — С сохранением условий) CC BY-SA \\
      Копирование и распространение приветствуется.}
  \end{tabular}
\end{table}



\section{Find three-phase sin zero}

\begin{equation}
  \label{eq:zero-shift:three-phase-case}
  \begin{cases}
    a = sin(x)       + z\\
    b = sin(x + 120) + z\\
    c = sin(x + 240) + z
  \end{cases}
\end{equation}

(all angles in dergees)

given: a, b, c

x - unknown, and not need to calculate

z = constant in each ``x''

to find: z = ?

\includegraphics[width=15cm]{../drawings/hall-zero.eps}

\subsection{solution}

\begin{equation}
  \label{eq:trigonometric:rule:sin-a-plus-b}
    sin (\alpha + \beta) = sin \alpha \cdot cos \beta + cos \alpha \cdot sin \beta
\end{equation}

from formula (~\ref{eq:zero-shift:three-phase-case}) and (~\ref{eq:trigonometric:rule:sin-a-plus-b})

\begin{equation}
  \begin{cases}
    sin x = a - z\\
    b = sin x \cdot cos 120 + cos x \cdot sin 120 + z\\
    c = sin x \cdot cos 240 + cos x \cdot sin 240 + z
  \end{cases}
\end{equation}

\begin{equation}
  \begin{cases}
    b = (a - z) \cdot cos 120 + cos x \cdot sin 120 + z\\
    c = (a - z) \cdot cos 240 + cos x \cdot sin 240 + z
  \end{cases}
\end{equation}

extract $cos x$

\begin{equation}
  \frac{b - (a - z) \cdot cos 120 - z}{sin 120} = \frac{c - (a - z) \cdot cos 240 - z}{sin 240}
\end{equation}


\begin{equation}
  (b - (a - z) \cdot cos 120 - z) \cdot sin 240 = (c - (a - z) \cdot cos 240 - z) \cdot sin 120
\end{equation}

\begin{equation}
  (b - a \cdot cos 120) \cdot sin 240 + z \cdot (cos 120 - 1) \cdot sin 240 = (c - a \cdot cos 240) \cdot sin 120 + z \cdot (cos 240 - 1) \cdot sin 120
\end{equation}


\begin{equation}
  z \cdot (cos 120 - 1) \cdot sin 240  - z \cdot (cos 240 - 1) \cdot sin 120 = (c - a \cdot cos 240) \cdot sin 120 - (b - a \cdot cos 120) \cdot sin 240
\end{equation}


\begin{equation}
  z = \frac{(c - a \cdot cos 240) \cdot sin 120 - (b - a \cdot cos 120) \cdot sin 240}{(cos 120 - 1) \cdot sin 240  - (cos 240 - 1) \cdot sin 120} =
\end{equation}

\begin{equation}
  = \frac{(c - a \cdot (-\frac{1}{2})) \cdot \frac{\sqrt{3}}{2} - (b - a \cdot (-\frac{1}{2})) \cdot (-\frac{\sqrt{3}}{2})}{(-\frac{1}{2} - 1) \cdot (-\frac{\sqrt{3}}{2})  - (-\frac{1}{2} - 1) \cdot \frac{\sqrt{3}}{2}} =
\end{equation}

\begin{equation}
  = \frac{c + \frac{a}{2} + b + \frac{a}{2}}{\frac{1}{2} + 1 + \frac{1}{2} + 1}
\end{equation}


\begin{equation}
  z = \frac{a + b + c}{3}
\end{equation}


\section{Find envelope of three phase sinus graphic}

\begin{equation}
  \label{eq:envelope:three-phase-case}
  \begin{cases}
    a = k \cdot sin(x)\\
    b = k \cdot sin(x + 120)\\
    c = k \cdot sin(x + 240)
  \end{cases}
\end{equation}

given: a, b, c

x - unknown, and not need to calculate

k = constant in each ``x''

to find: k = ?

\includegraphics[width=15cm]{../drawings/envelope-graphic.eps}

\subsection{solution a-b}

we need only two, for example ``a'' and ``b''

\begin{equation}
  \label{eq:envelope:phase-a-b}
  \begin{cases}
    a = k \cdot sin(x)\\
    b = k \cdot sin(x + 120)
  \end{cases}
\end{equation}


\begin{equation}
  sin^2 \alpha + cos^2 \alpha = 1
\end{equation}

\begin{equation}
  \label{eq:trigonometric:rule:sin2acos2aeq1}
  cos \alpha = \sqrt{1 - sin^2 \alpha}
\end{equation}


use formula (~\ref{eq:trigonometric:rule:sin-a-plus-b}) and (~\ref{eq:trigonometric:rule:sin2acos2aeq1})

\begin{equation}
  \begin{cases}
    sin x = \frac{a}{k}\\
    b = k \cdot sin x \cdot cos 120 + k \cdot cos x \cdot sin 120
  \end{cases}
\end{equation}


\begin{equation}
  \begin{cases}
    sin x = \frac{a}{k}\\
    b = k \cdot sin x \cdot cos 120 + k \cdot \sqrt{1 - sin^2 x} \cdot sin 120
  \end{cases}
\end{equation}


\begin{equation}
  b = k \cdot \frac{a}{k} \cdot cos 120 + k \cdot \sqrt{1 - \left(\frac{a}{k}\right)^2} \cdot sin 120
\end{equation}

\begin{equation}
  b = a \cdot cos 120 + k \cdot \sqrt{1 - \left(\frac{a}{k}\right)^2} \cdot sin 120
\end{equation}

\begin{equation}
  \sqrt{k^2 - \left(\frac{a^2 \cdot k^2}{k^2}\right)} =  \frac{b - a \cdot cos 120}{sin 120}
\end{equation}

\begin{equation}
  k^2 - a^2  =  \left(\frac{b - a \cdot cos 120}{sin 120}\right)^2
\end{equation}

\begin{equation}
  k = \sqrt{\left(\frac{b - a \cdot cos 120}{sin 120}\right)^2 + a^2}
\end{equation}

\begin{equation}
  k = \sqrt{\frac{(2 \cdot b + a)^2}{3} + a^2}
\end{equation}





\subsection{solution b-c}

if we take ``b'' and ``c'', then

\begin{equation}
  \begin{cases}
    b = k \cdot sin(x + 120)\\
    c = k \cdot sin(x + 240)
  \end{cases}
\end{equation}

if $t = x + 120$, then

\begin{equation}
  \label{eq:envelope:phase-b-c}
  \begin{cases}
    b = k \cdot sin(t)\\
    c = k \cdot sin(t + 120)
  \end{cases}
\end{equation}

and (~\ref{eq:envelope:phase-b-c}) looks like (~\ref{eq:envelope:phase-a-b})

so final solution:

\begin{equation}
  k = \sqrt{\frac{(2 \cdot c + b)^2}{3} + b^2}
\end{equation}


\subsection{solution a-c}

now we take ``a'' and ``c'', so

\begin{equation}
  \label{eq:envelope:phase-a-c}
  \begin{cases}
    a = k \cdot sin(x)\\
    c = k \cdot sin(x + 240)
  \end{cases}
\end{equation}

and (~\ref{eq:envelope:phase-a-b}) looks like (~\ref{eq:envelope:phase-a-c}), but in all formulas we change $120° \rightarrow 240°$

\begin{equation}
  k = \sqrt{\left(\frac{c - a \cdot cos 240}{sin 240}\right)^2 + a^2}
\end{equation}

\begin{equation}
  k = \sqrt{\frac{(2 \cdot c + a)^2}{3} + a^2}
\end{equation}

\subsection{solution a-b-c}

at the last we take all: ``a'', ``b'' and ``c''

i think it`s better solution, because contains all a, b, c values, and
because a, b, and c contain error.

multiple second and third equation from (~\ref{eq:envelope:three-phase-case})

\begin{equation}
  \begin{cases}
    a = k \cdot sin x\\
    b \cdot c = k^2 \cdot sin(x + 120) \cdot sin(x + 240)
  \end{cases}
\end{equation}

use formula (~\ref{eq:trigonometric:rule:sin-a-plus-b}) and (~\ref{eq:trigonometric:rule:sin2acos2aeq1})

\begin{equation}
  \begin{cases}
    sin x = \frac{a}{k}\\
    cos x = \sqrt{1 - \left(\frac{a}{k}\right)^2} = \sqrt{\frac{k^2 - a^2}{k^2}\right} = \frac{\sqrt{k^2 - a^2}}{k}\\
    b \cdot c = k^2 \cdot (sin x \cdot cos 120 + cos x \cdot sin 120) \cdot (sin x \cdot cos 240 + cos x \cdot sin 240) 
  \end{cases}
\end{equation}



\begin{equation}
  b \cdot c = k^2 \cdot (\frac{a}{k} \cdot cos 120 + \frac{\sqrt{k^2 - a^2}}{k} \cdot sin 120) \cdot (\frac{a}{k} \cdot cos 240 + \frac{\sqrt{k^2 - a^2}}{k} \cdot sin 240) 
\end{equation}

\begin{equation}
  \label{eq:envelope:phase-a-b-c-before-simplification}
  b \cdot c = (a \cdot cos 120 + \sqrt{k^2 - a^2} \cdot sin 120) \cdot (a \cdot cos 240 + \sqrt{k^2 - a^2} \cdot sin 240)
\end{equation}


simplification:
\begin{equation}
  \label{eq:envelope:phase-a-b-c-f}
  f = \sqrt{k^2 - a^2}
\end{equation}

\begin{equation}
  \label{eq:envelope:phase-a-b-c-c1}
  cos 120 = c_1 = -\frac{1}{2}
\end{equation}

\begin{equation}
  \label{eq:envelope:phase-a-b-c-c2}
  cos 240 = c_2 = -\frac{1}{2}
\end{equation}

\begin{equation}
  \label{eq:envelope:phase-a-b-c-s1}
  sin 120 = s_1 = \frac{\sqrt{3}}{2}
\end{equation}

\begin{equation}
  \label{eq:envelope:phase-a-b-c-s2}
  sin 240 = s_2 = -\frac{\sqrt{3}}{2}
\end{equation}

and now equation
(~\ref{eq:envelope:phase-a-b-c-before-simplification}) look like:

\begin{equation}
  b \cdot c = (a \cdot c_1 + f \cdot s_1) \cdot (a \cdot c_2 + f \cdot s_2)
\end{equation}

\begin{equation}
  b \cdot c =
  a^2 \cdot c_1 \cdot c_2 +
  a \cdot c_1 \cdot s_2 \cdot f +
  a \cdot s_1 \cdot c_2 \cdot f +
  s_1 \cdot s_2 \cdot f^2
\end{equation}

\begin{equation}
  s_1 \cdot s_2 \cdot f^2 +
  a \cdot (c_1 \cdot s_2 + s_1 \cdot c_2) \cdot f +
  a^2 \cdot c_1 \cdot c_2 - b \cdot c =
  0
\end{equation}

\begin{equation}
  f^2 +
  \underbrace{\frac{a \cdot (c_1 \cdot s_2 + s_1 \cdot c_2)}{s_1 \cdot s_2}}_{p} \cdot f +
  \underbrace{\frac{a^2 \cdot c_1 \cdot c_2 - b \cdot c}{s_1 \cdot s_2}}_{q} =
  0
\end{equation}

use
(~\ref{eq:envelope:phase-a-b-c-c1}),
(~\ref{eq:envelope:phase-a-b-c-c2}),
(~\ref{eq:envelope:phase-a-b-c-s1}),
(~\ref{eq:envelope:phase-a-b-c-s2}):

\begin{equation}
  p = \frac{a \left(\frac{1}{2} \cdot \frac{\sqrt{3}}{2} - \frac{\sqrt{3}}{2} \cdot \frac{1}{2} \right)}
    {\frac{-\sqrt{3}}{2} \cdot \frac{\sqrt{3}}{2}} =
    0
\end{equation}

\begin{equation}
  q =
  \frac{a^2 \cdot \frac{1}{2} \cdot \frac{1}{2} - b \cdot c}
  {-\frac{\sqrt{3}}{2} \cdot \frac{\sqrt{3}}{2}} =
  -\frac{\frac{a^2}{4} - b \cdot c}
  {\frac{3}{4}} =
  -\frac{a^2 - 4 \cdot b \cdot c}{3}
\end{equation}

\begin{equation}
  f^2 = \frac{a^2 - 4 \cdot b \cdot c}{3}
\end{equation}

use (~\ref{eq:envelope:phase-a-b-c-f})

\begin{equation}
  k^2 - a^2 = \frac{a^2 - 4 \cdot b \cdot c}{3}
\end{equation}

\begin{equation}
  k = 2 \cdot \sqrt{\frac{a^2 - b \cdot c}{3}}
\end{equation}


\subsection{other solutions}

similar to ``root mean square'' (rms)
\begin{equation}
  k = \frac{|a| + |b| + |c|}{\sqrt{3}}
\end{equation}

empirical formulas:
\begin{equation}
  k = \frac{|a| + |b| + |c|}{3.5} + \frac{max(a, b) + max(b, c) + max(c, a)}{3.5}
\end{equation}

\begin{equation}
  k = \frac{max(|a|, |b|) + max(|b|, |c|) + max(|c|, |a|)}{2.7} + \frac{  min(|a|, |b|) + min(|b|, |c|) + min(|c|, |a|)}{15}
\end{equation}

\end{document}
